dt3 <- fread("all3g5.txt", header = FALSE, stringsAsFactors=FALSE)
dt3[,V := paste0(V2," ",V3)]
dy3 <- dt3[ !duplicated(dt3$V), ][order(-V1)]
dz3 <- dy3[V1>1]
t3 <- rbindlist(list(dz3[,.(V2)],dz3[,.(V3)],dz3[,.(V4)]))
head(dy3)
rm(dt3)
rm(t21)
dt4 <- fread("all4g5.txt", header = FALSE, stringsAsFactors=FALSE)
dt4[,V := paste0(V2," ",V3, " ",V4)]
gc()
dy4 <- dt4[ !duplicated(dt4$V), ][order(-V1)]
dz4 <- dy4[V1>1]
t4 <- rbindlist(list(dz4[,.(V2)],dz4[,.(V3)],dz4[,.(V4)],dz4[,.(V5)]))
wl <- rbindlist(list(t2,t3,t4))
wd <- wl[,.N,by=V2]
rm(dt4)
gc()
head(wl)
head(wd)
tail(wd)
wd.length
wd.length()
nrow(wd)
x <- data.table(a=1:nrow(wd))
we <- cbind(wd,x)
head(we)
tail(we)
x <- data.table(key=1:nrow(wd))
wd <- cbind(x,wd)
x <- data.table(a=1:nrow(wd))
wd <- cbind(x,wd)
head(wd)
wd[,N:=NULL]
str(wd)
rm(we)
setkey(wd,a)
wd <- wl[,.N,by=V2][order(-N)]
wd <- cbind(x,wd)
head(wd)
wd[,N:=NULL]
setkey(wd,a)
saveRDS(wd,"wd.rds")
head(dz2)
dz2[,list(max=max(V1))]
dz2[,list(max(V1))]
dz2[, V1 := V1/dz2[,list(max(V1))]
]
head(dz2)
dz2[, V := V1/dz2[,list(max(V1))]
]
head(dz2)
dz2 <- dy2[V1>1]
dz2[, V := V1/dz2[,list(max(V1))]]
dz2 <- dy2[V1>1]
dz2[, V := V1/dz2[,list(max(V1))]]
head(dz2)
max <- dz2[,list(max(V1))]
max
max <- dz2[,list(max(V1))]$V1
max
dz2[, V := V1/max]
head(dz2)
dz2[,V1:=NULL]
head(dz2)
head(wd)
wd["of"]
str(wd)
setkey(wd,V2)
wd["of"]
dz2[,V2:=wd[V2]$a]
head(dz2)
dz2[,V3:=wd[V3]$a]
head(dz2)
dz2 <- dy2[V1>1]
max <- dz2[,list(max(V1))]$V1
dz2[, V := V1/max]
dz2[,V1:=NULL]
saveRDS(dz2,"dz2b4.rds")
dz2[,V2:=wd[V2]$a]
dz2[,V3:=wd[V3]$a]
saveRDS(dz2,"dz2.rds")
head(dz2)
head(dz3)
max <- dz3[,list(max(V1))]$V1
dz3[, V := V1/max]
dz3[,V1:=NULL]
saveRDS(dz3,"dz3b4.rds")
dz3[,V2:=wd[V2]$a]
dz3[,V3:=wd[V3]$a]
dz3[,V4:=wd[V4]$a]
saveRDS(dz3,"dz3.rds")
head(dz4)
max <- dz4[,list(max(V1))]$V1
dz4[, V := V1/max]
dz4[,V1:=NULL]
saveRDS(dz4,"dz4b4.rds")
dz4[,V2:=wd[V2]$a]
dz4[,V3:=wd[V3]$a]
dz4[,V4:=wd[V4]$a]
dz4[,V5:=wd[V5]$a]
saveRDS(dz4,"dz4.rds")
dz4 <- dy4[V1>0]
max <- dz4[,list(max(V1))]$V1
dz4[, V := V1/max]
dz4[,V1:=NULL]
saveRDS(dz4,"dz4all.rds")
head(dz4)
tail(dz4)
tail(dz4,20)
dz3 <- dy3[V1>0]
max <- dz3[,list(max(V1))]$V1
dz3[, V := V1/max]
dz3[,V1:=NULL]
tail(dz3,10)
saveRDS(dz3,"dz3all.rds")
dz2 <- dy2[V1>0]
max <- dz2[,list(max(V1))]$V1
dz2[, V := V1/max]
dz2[,V1:=NULL]
saveRDS(dz2,"dz2all.rds")
head(dz2)
setkey(dz2,V2)
setkey(dz2,V2)
head(dz2)
saveRDS(dz2,"dz2all.rds")
head(dz3)
setkey(dz3,V2,V3)
saveRDS(dz3,"dz3all.rds")
dz4 <- dy4[V1>1]
max <- dz4[,list(max(V1))]$V1
dz4[, V := V1/max]
dz4[,V1:=NULL]
head(dz4)
setkey(dz4,V2,V3,V4)
saveRDS(dz4,"dz4b4.rds")
getwd()
shiny::runApp('capstone')
shiny::runApp('capstone')
shiny::runApp('capstone')
shiny::runApp('capstone')
shiny::runApp('capstone')
install.packages("shinyIncubator")
shiny::runApp('capstone')
shiny::runApp('capstone')
shiny::runApp('capstone')
shiny::runApp('capstone')
shiny::runApp('capstone')
shiny::runApp('capstone')
shiny::runApp('capstone')
shiny::runApp('capstone')
shiny::runApp('capstone')
shiny::runApp('capstone')
shiny::runApp('capstone')
shiny::runApp('capstone')
?observeEvent
shiny::runApp('capstone')
shiny::runApp('capstone')
shiny::runApp('capstone')
shiny::runApp('capstone')
shiny::runApp('capstone')
shiny::runApp('capstone')
shiny::runApp('capstone')
shiny::runApp('capstone')
shiny::runApp('capstone')
shiny::runApp('capstone')
shiny::runApp('capstone')
shiny::runApp('capstone')
shiny::runApp('capstone')
shiny::runApp('capstone')
shiny::runApp('capstone')
shiny::runApp('capstone')
shiny::runApp('capstone')
shiny::runApp('capstone')
shiny::runApp('capstone')
shiny::runApp('capstone')
shiny::runApp('capstone')
shiny::runApp('capstone')
shiny::runApp('capstone')
shiny::runApp('capstone')
shiny::runApp('capstone')
shiny::runApp('capstone')
shiny::runApp('capstone')
shiny::runApp('capstone')
shiny::runApp('capstone')
setwd("~/Desktop/CS171/cs171-project/sandbox/data")
fil <- read.csv("20150220_Filings_1986to2013.csv")
head(fil)
film <- melt(fil,id=c("Circuit","County","Division.of.Court","Type.of.Case"))
library(reshape2)
film <- melt(fil,id=c("Circuit","County","Division.of.Court","Type.of.Case"))
head(film)
tail(film)
substr(film.variable,2,4)
substr(film$variable,2,4)
substr(film$variable,2,5)
film$variable <- as.numeric(substr(film$variable,2,5))
head(film)
str(film)
film$value <- as.numeric(film$value)
str(film)
film <- melt(fil,id=c("Circuit","County","Division.of.Court","Type.of.Case"))
film$variable <- as.numeric(substr(film$variable,2,5))
head(film,20)
gsub(",","",film$value)
gsub(",","",film$value)
film$value <- as.numeric(film$value)
film$value <- as.numeric(gsub(",","",film$value))
film <- melt(fil,id=c("Circuit","County","Division.of.Court","Type.of.Case"))
library(reshape2)
fil <- read.csv("20150220_Filings_1986to2013.csv")
film <- melt(fil,id=c("Circuit","County","Division.of.Court","Type.of.Case"))
film$variable <- as.numeric(substr(film$variable,2,5))
film$value <- as.numeric(gsub(",","",film$value))
str(film)
fil <- read.csv("20150220_Filings_1986to2013.csv", stringsAsFactors=FALSE)
film <- melt(fil,id=c("Circuit","County","Division.of.Court","Type.of.Case"))
film$variable <- as.numeric(substr(film$variable,2,5))
film$value <- as.numeric(gsub(",","",film$value))
str(film)
write.csv(film, file = "Filings.csv")
dis <- read.csv("20150220_Dispositions_1986to2013.csv", stringsAsFactors=FALSE)
dism <- melt(dis,id=c("Circuit","County","Division.of.Court","Type.of.Case"))
dism$variable <- as.numeric(substr(dism$variable,2,5))
dism$value <- as.numeric(gsub(",","",dism$value))
write.csv(dism, file = "Dispositions.csv")
library(data.table)
fil <- read.csv("20150220_Filings_1986to2013.csv", stringsAsFactors=FALSE)
film <- melt(fil,id=c("Circuit","County","Division.of.Court","Type.of.Case"))
film$variable <- as.numeric(substr(film$variable,2,5))
film$value <- as.numeric(gsub(",","",film$value))
#write.csv(film, file = "Filings.csv")
dis <- read.csv("20150220_Dispositions_1986to2013.csv", stringsAsFactors=FALSE)
dism <- melt(dis,id=c("Circuit","County","Division.of.Court","Type.of.Case"))
dism$variable <- as.numeric(substr(dism$variable,2,5))
dism$value <- as.numeric(gsub(",","",dism$value))
str(film)
doclist = ["--Select Division of Court--","Circuit Civil","Circuit Criminal","County Civil","County Criminal","Family Court","Probate","Traffic"];
doctoc = [["--Select Type of Case--","Contract & Indebtedness","Eminent Domain","Other Circuit Civil","Other Negligence","Products Liability","Professional Malpractice","Real Property/Mortgage Foreclosure"],
["--Select Type of Case--","Burglary","Capital Murder","Drugs","Non Capital Murder","Other Crimes Against Person","Other Crimes Against Property","Other Felonies","Robbery","Sexual Offenses","Theft, Forgery, Fraud","Worthless Checks (Felony)"],
["--Select Type of Case--","Civil ($5,001 to $15,000)","Evictions","Other Civil (non-monetary)","Replevins","Small Claims (up to $5,000)"],
["--Select Type of Case--","County Ordinances","Misdemeanors","Municipal Ordinances","Worthless Checks (Misdemeanors)"],
["--Select Type of Case--","Child Support","Dissolution","Domestic Violence","Juvenile Delinquency","Juvenile Dependency","Other Domestic Relations","Repeat Violence","Simplified Dissolution","Termination of Parental Rights","UIFSA"],
["--Select Type of Case--","Baker Act","Guardianship","Other Social","Probate","Substance Abuse Act","Trusts"],
["--Select Type of Case--","Civil Traffic Infractions","DUI","Non DUI Criminal Traffic"]]
doclist = ["--Select Division of Court--","Circuit Civil","Circuit Criminal","County Civil","County Criminal","Family Court","Probate","Traffic"]
doclist = c("--Select Division of Court--","Circuit Civil","Circuit Criminal","County Civil","County Criminal","Family Court","Probate","Traffic")
doctoc1 = c("Contract & Indebtedness","Eminent Domain","Other Circuit Civil","Other Negligence","Products Liability","Professional Malpractice","Real Property/Mortgage Foreclosure")
doctoc2 = c("Burglary","Capital Murder","Drugs","Non Capital Murder","Other Crimes Against Person","Other Crimes Against Property","Other Felonies","Robbery","Sexual Offenses","Theft, Forgery, Fraud","Worthless Checks (Felony)")
doctoc3 = c("Civil ($5,001 to $15,000)","Evictions","Other Civil (non-monetary)","Replevins","Small Claims (up to $5,000)")
doctoc4 = c("County Ordinances","Misdemeanors","Municipal Ordinances","Worthless Checks (Misdemeanors)")
doctoc5 = c("Child Support","Dissolution","Domestic Violence","Juvenile Delinquency","Juvenile Dependency","Other Domestic Relations","Repeat Violence","Simplified Dissolution","Termination of Parental Rights","UIFSA")
doctoc6 = c("Baker Act","Guardianship","Other Social","Probate","Substance Abuse Act","Trusts")
doctoc7 = c("Civil Traffic Infractions","DUI","Non DUI Criminal Traffic")
fil2 <- fil
fil2$doc <- match(fil2$Division.of.Court, doclist)
head(fil2)
doclist = c("Circuit Civil","Circuit Criminal","County Civil","County Criminal","Family Court","Probate","Traffic")
fil2$doc <- match(fil2$Division.of.Court, doclist)
head(fil2)
fil21 <- subset(fil2,doc==1)
fil22 <- subset(fil2,doc==2)
fil23 <- subset(fil2,doc==3)
fil24 <- subset(fil2,doc==4)
fil25 <- subset(fil2,doc==5)
fil26 <- subset(fil2,doc==6)
fil27 <- subset(fil2,doc==7)
fil21$toc <- match(fil21$Type.of.Case, doctoc1)
head(fil21)
doctoc1 = c("Auto Negligence","Condominium","Contract & Indebtedness","Eminent Domain","Other Circuit Civil","Other Negligence","Products Liability","Professional Malpractice","Real Property/Mortgage Foreclosure")
fil21$toc <- match(fil21$Type.of.Case, doctoc1)
head(fil21)
fil22$toc <- match(fil22$Type.of.Case, doctoc2)
fil23$toc <- match(fil23$Type.of.Case, doctoc3)
fil24$toc <- match(fil24$Type.of.Case, doctoc4)
fil25$toc <- match(fil25$Type.of.Case, doctoc5)
fil26$toc <- match(fil26$Type.of.Case, doctoc6)
fil27$toc <- match(fil27$Type.of.Case, doctoc7)
fil2c <- rbind(fil21,fil22,fil23,fil24,fil25,fil26,fil27)
str(fil2c)
fil2c$id <- cids[match(fil2c$County, counties)]
counties = c("Alachua",
"Baker",
"Bay",
"Bradford",
"Brevard",
"Broward",
"Calhoun",
"Charlotte",
"Citrus",
"Clay",
"Collier",
"Columbia",
"Dade",
"De Soto",
"Dixie",
"Duval",
"Escambia",
"Flagler",
"Franklin",
"Gadsden",
"Gilchrist",
"Glades",
"Gulf",
"Hamilton",
"Hardee",
"Hendry",
"Hernando",
"Highlands",
"Hillsborough",
"Holmes",
"Indian River",
"Jackson",
"Jefferson",
"Lafayette",
"Lake",
"Lee",
"Leon",
"Levy",
"Liberty",
"Madison",
"Manatee",
"Marion",
"Martin",
"Miami-Dade",
"Monroe",
"Nassau",
"Okaloosa",
"Okeechobee",
"Orange",
"Osceola",
"Palm Beach",
"Pasco",
"Pinellas",
"Polk",
"Putnam",
"St. Johns",
"St. Lucie",
"Santa Rosa",
"Sarasota",
"Seminole",
"Sumter",
"Suwannee",
"Taylor",
"Union",
"Volusia",
"Wakulla",
"Walton",
"Washington"
)
cids = c(12001,
12003,
12005,
12007,
12009,
12011,
12013,
12015,
12017,
12019,
12021,
12023,
12025,
12027,
12029,
12031,
12033,
12035,
12037,
12039,
12041,
12043,
12045,
12047,
12049,
12051,
12053,
12055,
12057,
12059,
12061,
12063,
12065,
12067,
12069,
12071,
12073,
12075,
12077,
12079,
12081,
12083,
12085,
12086,
12087,
12089,
12091,
12093,
12095,
12097,
12099,
12101,
12103,
12105,
12107,
12109,
12111,
12113,
12115,
12117,
12119,
12121,
12123,
12125,
12127,
12129,
12131,
12133
)
fil2c$id <- cids[match(fil2c$County, counties)]
head(fil2c)
tail(fil2c)
completecases(fil2c)
complete.cases(fil2c)
fil2c[!complete.cases(fil2c)]
fil2c[!complete.cases(fil2c),]
counties = c("Alachua",
"Baker",
"Bay",
"Bradford",
"Brevard",
"Broward",
"Calhoun",
"Charlotte",
"Citrus",
"Clay",
"Collier",
"Columbia",
"Dade",
"Desoto",
"Dixie",
"Duval",
"Escambia",
"Flagler",
"Franklin",
"Gadsden",
"Gilchrist",
"Glades",
"Gulf",
"Hamilton",
"Hardee",
"Hendry",
"Hernando",
"Highlands",
"Hillsborough",
"Holmes",
"Indian River",
"Jackson",
"Jefferson",
"Lafayette",
"Lake",
"Lee",
"Leon",
"Levy",
"Liberty",
"Madison",
"Manatee",
"Marion",
"Martin",
"Miami-Dade",
"Monroe",
"Nassau",
"Okaloosa",
"Okeechobee",
"Orange",
"Osceola",
"Palm Beach",
"Pasco",
"Pinellas",
"Polk",
"Putnam",
"St. Johns",
"St. Lucie",
"Santa Rosa",
"Sarasota",
"Seminole",
"Sumter",
"Suwannee",
"Taylor",
"Union",
"Volusia",
"Wakulla",
"Walton",
"Washington"
)
fil2c$id <- cids[match(fil2c$County, counties)]
fil2c[!complete.cases(fil2c),]
head(fil2)
fil2c$County = NULL
fil2c$Division.of.Court = NULL
fil2c$Type.of.Case = NULL
head(fil2c)
fil2c$Circuit = NULL
film <- melt(fil2c,id=c("id","doc","toc"))
film$variable <- as.numeric(substr(film$variable,2,5))
film$value <- as.numeric(gsub(",","",film$value))
head(film)
write.csv(film, file = "Filings.csv")
dism <- melt(fil2c,id=c("id","doc","toc"))
dism$variable <- as.numeric(substr(dism$variable,2,5))
dism$value <- as.numeric(gsub(",","",dism$value))
write.csv(dism, file = "Dispositions.csv")
